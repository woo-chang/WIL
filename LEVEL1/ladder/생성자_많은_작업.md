## 생성자에서 많은 작업을 하는 것은 바람직한가

```java
public class Ladder {

    private final List<Line> lines;

    public Ladder(final LineGenerator lineGenerator, final Players players, final Height height) {
        this.lines = generateLines(lineGenerator, players, height);
    }

    //...
}
```

```text
| ----- |      | ----- | <- 하나의 라인
|       | ----- |      |
|       |       | ----- |
```

사다리는 위의 그림과 같이 여러 개의 라인으로 구성된다. 라인으로 구성되는 라인을 만들기 위해서는 라인 생성기, 플레이어들, 높이를 알아야 온전한 사다리를 만들 수 있다. 그렇기에 위의 코드와 같이 생성자에 해당하는
값들을 받아 생성자에서 라인 목록을 생성하도록 코드를 작성하였다. 하지만 리뷰어로부터 다음과 같은 리뷰를 받게 되었다.

> 생성자에 로직을 빼고, 인자로 들어오는 값만 넣어주는 건 어떨까요? 생성자는 특수한 메서드인 만큼 완전한 인자들을 제공 받아야 합니다.

**왜 생성자는 특수한 메서드일까?**

생성자는 객체를 생성할 때 호출되는 특별한 메서드로, 일반 메서드와 달리 반환형이 없으며 클래스와 같은 이름을 가진다. 객체를 생성할 때 필요한 초기화 작업을 수행하며, 인스턴스 변수의 값을 초기화하거나 메서드를
호출하여 객체를 사용하기 위한 준비를 한다. 또한 생성자는 객체 생성 과정에서 반드시 호출되어야 하는 메서드이기 때문에 클래스 내부에서 해당 객체를 사용하기 전에 필요한 초기화 작업이 수행되도록 보장한다. 기본
생성자는 매개변수가 없는 생성자이며, 클래스 내부에 정의된 생성자가 없으면 컴파일러에 의해 자동으로 생성된다. 이러한 특징으로 생성자는 객체 지향 프로그래밍에서 매우 중요한 역할을 하며, 클래스의 사용자가 객체를
생성할 때 필요한 초기화 작업을 쉽고 안전하게 수행할 수 있도록 한다.

**생성자에서 작업 시 어떤 문제가 발생할 수 있을까**

1. 테스트가 어려워질 수 있다. 다양한 작업으로 상태를 예상할 수 없게 되면 테스트가 매우 어려워질 것이다.
2. 단일 책임 원칙을 위배한다. 다양한 책임을 가진 코드를 하나의 블록에 넣는 것은 좋지 않다.
3. 생성자 코드가 재사용하게 리팩토링 되는 경우도 많다. 따라서 유지보수 비용이 더 커질 수 있다.
4. 클래스 상속 시 문제가 될 수 있다. 먼저 부모 생성자 로직을 호출하기 때문에 단순하지 않을 수 있다.

### 어떻게 해결할 수 있을까?

생성자에서는 필요한 필드를 받아 검증 및 생성하는 역할만 담당하게 하고, 추가로 생성 로직이 필요한 경우 정적 팩터리 메서드나 정적 팩터리 클래스를 고려해볼 수 있다. 생성 로직을 다른 메서드나 클래스에
위임함으로 생성자는 온전히 본인의 책임만 수행할 수 있게 되는 것이다.
